==8355== Helgrind, a thread error detector
==8355== Copyright (C) 2007-2015, and GNU GPL'd, by OpenWorks LLP et al.
==8355== Using Valgrind-3.11.0 and LibVEX; rerun with -h for copyright info
==8355== Command: ./kernel
==8355== Parent PID: 3417
==8355== 
==8355== ---Thread-Announcement------------------------------------------
==8355== 
==8355== Thread #4 was created
==8355==    at 0x416B1B1: clone (clone.S:88)
==8355==    by 0x406C1AD: create_thread (createthread.c:102)
==8355==    by 0x406D99E: pthread_create@@GLIBC_2.1 (pthread_create.c:679)
==8355==    by 0x4032043: ??? (in /usr/lib/valgrind/vgpreload_helgrind-x86-linux.so)
==8355==    by 0x804B1E6: inicializar_kernel (kernel_utils.c:97)
==8355==    by 0x804ADAC: main (kernel_main.c:6)
==8355== 
==8355== ---Thread-Announcement------------------------------------------
==8355== 
==8355== Thread #5 was created
==8355==    at 0x416B1B1: clone (clone.S:88)
==8355==    by 0x406C1AD: create_thread (createthread.c:102)
==8355==    by 0x406D99E: pthread_create@@GLIBC_2.1 (pthread_create.c:679)
==8355==    by 0x4032043: ??? (in /usr/lib/valgrind/vgpreload_helgrind-x86-linux.so)
==8355==    by 0x804B24F: inicializar_kernel (kernel_utils.c:104)
==8355==    by 0x804ADAC: main (kernel_main.c:6)
==8355== 
==8355== ----------------------------------------------------------------
==8355== 
==8355== Possible data race during write of size 1 at 0x804F2C0 by thread #4
==8355== Locks held: none
==8355==    at 0x804BAEE: esperar_cpu (kernel_utils.c:283)
==8355==    by 0x40321E2: ??? (in /usr/lib/valgrind/vgpreload_helgrind-x86-linux.so)
==8355==    by 0x406D294: start_thread (pthread_create.c:333)
==8355==    by 0x416B1CD: clone (clone.S:114)
==8355== 
==8355== This conflicts with a previous read of size 1 by thread #5
==8355== Locks held: none
==8355==    at 0x804C516: srt_ready_execute (kernel_utils.c:468)
==8355==    by 0x40321E2: ??? (in /usr/lib/valgrind/vgpreload_helgrind-x86-linux.so)
==8355==    by 0x406D294: start_thread (pthread_create.c:333)
==8355==    by 0x416B1CD: clone (clone.S:114)
==8355==  Address 0x804f2c0 is 0 bytes inside data symbol "cpu_desocupado"
==8355== 
==8355== ----------------------------------------------------------------
==8355== 
==8355== Possible data race during write of size 1 at 0x804F268 by thread #5
==8355== Locks held: none
==8355==    at 0x804C524: srt_ready_execute (kernel_utils.c:469)
==8355==    by 0x40321E2: ??? (in /usr/lib/valgrind/vgpreload_helgrind-x86-linux.so)
==8355==    by 0x406D294: start_thread (pthread_create.c:333)
==8355==    by 0x416B1CD: clone (clone.S:114)
==8355== 
==8355== This conflicts with a previous read of size 1 by thread #4
==8355== Locks held: none
==8355==    at 0x804BD47: esperar_cpu (kernel_utils.c:329)
==8355==    by 0x40321E2: ??? (in /usr/lib/valgrind/vgpreload_helgrind-x86-linux.so)
==8355==    by 0x406D294: start_thread (pthread_create.c:333)
==8355==    by 0x416B1CD: clone (clone.S:114)
==8355==  Address 0x804f268 is 0 bytes inside data symbol "hay_interrupcion"
==8355== 
==8355== ----------------------------------------------------------------
==8355== 
==8355== Possible data race during read of size 1 at 0x804F268 by thread #4
==8355== Locks held: none
==8355==    at 0x804BD47: esperar_cpu (kernel_utils.c:329)
==8355==    by 0x40321E2: ??? (in /usr/lib/valgrind/vgpreload_helgrind-x86-linux.so)
==8355==    by 0x406D294: start_thread (pthread_create.c:333)
==8355==    by 0x416B1CD: clone (clone.S:114)
==8355== 
==8355== This conflicts with a previous write of size 1 by thread #5
==8355== Locks held: none
==8355==    at 0x804C524: srt_ready_execute (kernel_utils.c:469)
==8355==    by 0x40321E2: ??? (in /usr/lib/valgrind/vgpreload_helgrind-x86-linux.so)
==8355==    by 0x406D294: start_thread (pthread_create.c:333)
==8355==    by 0x416B1CD: clone (clone.S:114)
==8355==  Address 0x804f268 is 0 bytes inside data symbol "hay_interrupcion"
==8355== 
==8355== ----------------------------------------------------------------
==8355== 
==8355== Possible data race during write of size 1 at 0x804F268 by thread #5
==8355== Locks held: none
==8355==    at 0x804C540: srt_ready_execute (kernel_utils.c:472)
==8355==    by 0x40321E2: ??? (in /usr/lib/valgrind/vgpreload_helgrind-x86-linux.so)
==8355==    by 0x406D294: start_thread (pthread_create.c:333)
==8355==    by 0x416B1CD: clone (clone.S:114)
==8355== 
==8355== This conflicts with a previous read of size 1 by thread #4
==8355== Locks held: none
==8355==    at 0x804BD47: esperar_cpu (kernel_utils.c:329)
==8355==    by 0x40321E2: ??? (in /usr/lib/valgrind/vgpreload_helgrind-x86-linux.so)
==8355==    by 0x406D294: start_thread (pthread_create.c:333)
==8355==    by 0x416B1CD: clone (clone.S:114)
==8355==  Address 0x804f268 is 0 bytes inside data symbol "hay_interrupcion"
==8355== 
==8355== ---Thread-Announcement------------------------------------------
==8355== 
==8355== Thread #28 was created
==8355==    at 0x416B1B1: clone (clone.S:88)
==8355==    by 0x406C1AD: create_thread (createthread.c:102)
==8355==    by 0x406D99E: pthread_create@@GLIBC_2.1 (pthread_create.c:679)
==8355==    by 0x4032043: ??? (in /usr/lib/valgrind/vgpreload_helgrind-x86-linux.so)
==8355==    by 0x804BCE4: esperar_cpu (kernel_utils.c:322)
==8355==    by 0x40321E2: ??? (in /usr/lib/valgrind/vgpreload_helgrind-x86-linux.so)
==8355==    by 0x406D294: start_thread (pthread_create.c:333)
==8355==    by 0x416B1CD: clone (clone.S:114)
==8355== 
==8355== ----------------------------------------------------------------
==8355== 
==8355==  Lock at 0x804F184 was first observed
==8355==    at 0x40303FC: ??? (in /usr/lib/valgrind/vgpreload_helgrind-x86-linux.so)
==8355==    by 0x804BCAA: esperar_cpu (kernel_utils.c:318)
==8355==    by 0x40321E2: ??? (in /usr/lib/valgrind/vgpreload_helgrind-x86-linux.so)
==8355==    by 0x406D294: start_thread (pthread_create.c:333)
==8355==    by 0x416B1CD: clone (clone.S:114)
==8355==  Address 0x804f184 is 0 bytes inside data symbol "mx_cola_blocked"
==8355== 
==8355==  Lock at 0x804F19C was first observed
==8355==    at 0x40303FC: ??? (in /usr/lib/valgrind/vgpreload_helgrind-x86-linux.so)
==8355==    by 0x804BE36: suspendiendo (kernel_utils.c:347)
==8355==    by 0x40321E2: ??? (in /usr/lib/valgrind/vgpreload_helgrind-x86-linux.so)
==8355==    by 0x406D294: start_thread (pthread_create.c:333)
==8355==    by 0x416B1CD: clone (clone.S:114)
==8355==  Address 0x804f19c is 0 bytes inside data symbol "mx_cola_suspended_blocked"
==8355== 
==8355== Possible data race during read of size 1 at 0x4240F28 by thread #28
==8355== Locks held: 2, at addresses 0x804F184 0x804F19C
==8355==    at 0x804BE3D: suspendiendo (kernel_utils.c:348)
==8355==    by 0x40321E2: ??? (in /usr/lib/valgrind/vgpreload_helgrind-x86-linux.so)
==8355==    by 0x406D294: start_thread (pthread_create.c:333)
==8355==    by 0x416B1CD: clone (clone.S:114)
==8355==  Address 0x4240f28 is 0 bytes inside a block of size 12 alloc'd
==8355==    at 0x402D36C: malloc (in /usr/lib/valgrind/vgpreload_helgrind-x86-linux.so)
==8355==    by 0x804A08F: deserializar_proceso (protocol.c:176)
==8355==    by 0x8049FF1: recv_proceso (protocol.c:160)
==8355==    by 0x804BA97: esperar_cpu (kernel_utils.c:277)
==8355==    by 0x40321E2: ??? (in /usr/lib/valgrind/vgpreload_helgrind-x86-linux.so)
==8355==    by 0x406D294: start_thread (pthread_create.c:333)
==8355==    by 0x416B1CD: clone (clone.S:114)
==8355==  Block was alloc'd by thread #4
==8355== 
==8355== ---Thread-Announcement------------------------------------------
==8355== 
==8355== Thread #33 was created
==8355==    at 0x416B1B1: clone (clone.S:88)
==8355==    by 0x406C1AD: create_thread (createthread.c:102)
==8355==    by 0x406D99E: pthread_create@@GLIBC_2.1 (pthread_create.c:679)
==8355==    by 0x4032043: ??? (in /usr/lib/valgrind/vgpreload_helgrind-x86-linux.so)
==8355==    by 0x804BCE4: esperar_cpu (kernel_utils.c:322)
==8355==    by 0x40321E2: ??? (in /usr/lib/valgrind/vgpreload_helgrind-x86-linux.so)
==8355==    by 0x406D294: start_thread (pthread_create.c:333)
==8355==    by 0x416B1CD: clone (clone.S:114)
==8355== 
==8355== ----------------------------------------------------------------
==8355== 
==8355==  Lock at 0x804F184 was first observed
==8355==    at 0x40303FC: ??? (in /usr/lib/valgrind/vgpreload_helgrind-x86-linux.so)
==8355==    by 0x804BCAA: esperar_cpu (kernel_utils.c:318)
==8355==    by 0x40321E2: ??? (in /usr/lib/valgrind/vgpreload_helgrind-x86-linux.so)
==8355==    by 0x406D294: start_thread (pthread_create.c:333)
==8355==    by 0x416B1CD: clone (clone.S:114)
==8355==  Address 0x804f184 is 0 bytes inside data symbol "mx_cola_blocked"
==8355== 
==8355==  Lock at 0x804F19C was first observed
==8355==    at 0x40303FC: ??? (in /usr/lib/valgrind/vgpreload_helgrind-x86-linux.so)
==8355==    by 0x804BE36: suspendiendo (kernel_utils.c:347)
==8355==    by 0x40321E2: ??? (in /usr/lib/valgrind/vgpreload_helgrind-x86-linux.so)
==8355==    by 0x406D294: start_thread (pthread_create.c:333)
==8355==    by 0x416B1CD: clone (clone.S:114)
==8355==  Address 0x804f19c is 0 bytes inside data symbol "mx_cola_suspended_blocked"
==8355== 
==8355== Possible data race during read of size 2 at 0x4249B70 by thread #33
==8355== Locks held: 2, at addresses 0x804F184 0x804F19C
==8355==    at 0x804BE3D: suspendiendo (kernel_utils.c:348)
==8355==    by 0x40321E2: ??? (in /usr/lib/valgrind/vgpreload_helgrind-x86-linux.so)
==8355==    by 0x406D294: start_thread (pthread_create.c:333)
==8355==    by 0x416B1CD: clone (clone.S:114)
==8355==  Address 0x4249b70 is 0 bytes inside a block of size 24 alloc'd
==8355==    at 0x402D36C: malloc (in /usr/lib/valgrind/vgpreload_helgrind-x86-linux.so)
==8355==    by 0x406381B: pcb_create (in /usr/lib/libshared.so)
==8355==    by 0x804BA83: esperar_cpu (kernel_utils.c:276)
==8355==    by 0x40321E2: ??? (in /usr/lib/valgrind/vgpreload_helgrind-x86-linux.so)
==8355==    by 0x406D294: start_thread (pthread_create.c:333)
==8355==    by 0x416B1CD: clone (clone.S:114)
==8355==  Block was alloc'd by thread #4
==8355== 
==8355== 
==8355== Process terminating with default action of signal 2 (SIGINT)
==8355==    at 0x4076264: accept (accept.c:35)
==8355==    by 0x804997A: esperar_cliente (sockets.c:101)
==8355==    by 0x804B2D8: escuchar_servidor (kernel_utils.c:115)
==8355==    by 0x804AE78: main (kernel_main.c:18)
==8355== 
==8355== For counts of detected and suppressed errors, rerun with: -v
==8355== Use --history-level=approx or =none to gain increased speed, at
==8355== the cost of reduced accuracy of conflicting-access information
==8355== ERROR SUMMARY: 73 errors from 6 contexts (suppressed: 87278 from 370)
